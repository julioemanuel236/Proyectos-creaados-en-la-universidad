package correo;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.util.ArrayList;
public class Correo {
	ArrayList<Correspondencia> correo;
	
	Correo(){
		if(!cargar())correo = new ArrayList<>();
	}
	
	public void nuevaCorrespondencia(Correspondencia c) {
		correo.add(c);
	}
	
	public String despachar(){
		String s="";
		
		return s;
	}
	
	public boolean guardar() {
		try {
			FileOutputStream fos = new FileOutputStream("CORREO.dat");
			ObjectOutputStream oos = new ObjectOutputStream(fos);
			
			oos.writeObject(correo);
			
			oos.close();
			
			return true;
		}
		catch(Exception e) {
			return false;
		}
	}
	
	public boolean cargar() {
		try {
			FileInputStream fis = new FileInputStream("CORREO.dat");
			ObjectInputStream ois = new ObjectInputStream(fis);
			
			correo = (ArrayList<Correspondencia>) ois.readObject();
			
			ois.close();
			return true;
		}
		catch(Exception e) {
			return false;
		}
	}
}
