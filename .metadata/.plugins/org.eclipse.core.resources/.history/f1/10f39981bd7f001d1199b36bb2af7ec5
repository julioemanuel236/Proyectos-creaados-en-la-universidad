package correo;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;

public class Correo {
	Correspondencia correo[];
	int cC=0;
	
	Correo(){
		if(!cargar())correo = new Correspondencia[10000];
	}
	
	public boolean guardar() {
		try {
			FileOutputStream fos = new FileOutputStream("CORREO.dat");
			ObjectOutputStream oos = new ObjectOutputStream(fos);
			
			oos.writeObject(correo);
			
			return true;
		}
		catch(Exception e) {
			return false;
		}
	}
	
	public boolean cargar() {
		try {
			FileInputStream fis = new FileInputStream("CORREO.dat");
			ObjectInputStream ois = new ObjectInputStream(fis);
			
			correo = (Correspondencia[]) ois.readObject();

			for(int i=0;correo[i]!=null;i++)
				cC++;
			System.out.println(cC);
			
			return true;
		}
		catch(Exception e) {
			return false;
		}
	}
}
